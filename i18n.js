const dictionaries = {
  fa: {
    brand: "G‑Zone Café",
    luxury_tagline: "گرین زون — بدون گلوتن و قند",
    menu_tagline: "سفارش داخل باشگاه • کراسفیت و تنیس",
    admin_login: "ورود ادمین",
    login: "ورود",
    register: "ثبت‌نام",
    logout: "خروج",
    username: "یوزرنیم",
    password: "پسورد",
    first_name: "نام",
    last_name: "نام خانوادگی",
    phone: "شماره تلفن",
    enter_account: "ورود به حساب",
    register_and_login: "ثبت‌نام و ورود",
    welcome: "خوش آمدید",
    you_are_admin: "شما ادمین هستید.",
    go_to_admin: "ورود به بک‌اند",
    login_to_account: "ورود به حساب کاربری",
    go_to_dashboard: "ورود به داشبورد",
    account: "حساب کاربری",
    user: "کاربر",
    credit: "اعتبار",
    toman: "تومان",
    menu: "منو",
    my_orders: "سفارش‌های من",
    cart: "سبد خرید",
    checkout: "تسویه / ثبت سفارش",
    empty_cart: "سبد خرید خالی است.",
    cart_empty_hint: "برای افزودن، از منو روی «افزودن» بزنید.",
    add: "افزودن",
    qty: "تعداد",
    total: "مجموع",
    order_registered: "سفارش ثبت شد. شماره سفارش: {id}",
    orders_title: "سفارش‌های من",
    not_found_title: "یافت نشد",
    not_found_msg: "صفحه مورد نظر پیدا نشد.",
    internal_error_title: "خطای داخلی سرور",
    internal_error_msg: "مشکلی رخ داد. لطفاً دوباره تلاش کنید.",
    categories_tabs_hint: "دسته‌ها را انتخاب کنید.",
    debit_note: "کسر اعتبار پس از «ثبت سفارش» انجام می‌شود.",
    ok: "موفق",
    error: "خطا",
    back: "بازگشت",
    admin_panel: "پنل ادمین",
    admin_dashboard: "داشبورد ادمین",
    products: "محصولات",
    categories: "دسته‌بندی‌ها",
    users: "کاربران",
    reports: "گزارش‌ها",
    orders: "سفارش‌ها",
    save: "ذخیره",
    edit: "ویرایش",
    new_product: "محصول جدید",
    new_category: "دسته جدید",
    title_fa: "عنوان فارسی",
    title_en: "عنوان انگلیسی",
    desc_fa: "توضیحات فارسی",
    desc_en: "توضیحات انگلیسی",
    price: "قیمت",
    image: "عکس",
    active: "فعال",
    inactive: "غیرفعال",

    manage_menu: "مدیریت منو",
    search: "جستجو",
    search_placeholder: "جستجو...",
    category: "دسته",
    status: "وضعیت",
    actions: "عملیات",
    sort_order: "ترتیب نمایش",
    icon: "آیکن",
    no_items: "موردی یافت نشد.",
    sales_report: "گزارش فروش",
    back_office: "بک‌آفیس",
    address: "آدرس",
    change_password: "تغییر پسورد",
    current_password: "پسورد فعلی",
    new_password: "پسورد جدید",
    confirm_new_password: "تکرار پسورد جدید",
    update_password: "ثبت تغییر پسورد",
  },
  en: {
    brand: "G‑Zone Café",
    luxury_tagline: "Green Zone — gluten-free & sugar-free café",
    menu_tagline: "In-club ordering • CrossFit & Tennis",
    admin_login: "Admin Login",
    login: "Login",
    register: "Sign up",
    logout: "Logout",
    username: "Username",
    password: "Password",
    first_name: "First name",
    last_name: "Last name",
    phone: "Phone",
    enter_account: "Login",
    register_and_login: "Sign up & Login",
    welcome: "Welcome",
    you_are_admin: "You are an admin.",
    go_to_admin: "Go to Admin",
    go_to_dashboard: "Go to Dashboard",
    account: "Account",
    user: "User",
    credit: "Credit",
    toman: "Toman",
    menu: "Menu",
    my_orders: "My Orders",
    cart: "Cart",
    checkout: "Checkout",
    empty_cart: "Your cart is empty.",
    cart_empty_hint: "Add items from the menu.",
    add: "Add",
    qty: "Qty",
    total: "Total",
    order_registered: "Order placed. Order ID: {id}",
    orders_title: "My Orders",
    not_found_title: "Not Found",
    not_found_msg: "The page you requested was not found.",
    internal_error_title: "Server Error",
    internal_error_msg: "Something went wrong. Please try again.",
    categories_tabs_hint: "Pick a category.",
    debit_note: "Credit is deducted after checkout.",
    ok: "Success",
    error: "Error",
    back: "Back",
    admin_panel: "Admin Panel",
    admin_dashboard: "Admin Dashboard",
    products: "Products",
    categories: "Categories",
    users: "Users",
    reports: "Reports",
    orders: "Orders",
    save: "Save",
    edit: "Edit",
    new_product: "New Product",
    new_category: "New Category",
    title_fa: "Persian title",
    title_en: "English title",
    desc_fa: "Persian description",
    desc_en: "English description",
    price: "Price",
    image: "Image",
    active: "Active",
    inactive: "Inactive",

    manage_menu: "Manage Menu",
    search: "Search",
    search_placeholder: "Search...",
    category: "Category",
    status: "Status",
    actions: "Actions",
    sort_order: "Sort order",
    icon: "Icon",
    no_items: "No items found.",
    sales_report: "Sales report",
    back_office: "Back Office",
    address: "Address",
    change_password: "Change password",
    current_password: "Current password",
    new_password: "New password",
    confirm_new_password: "Confirm new password",
    update_password: "Update password",
  }
};

function format(str, vars) {
  if (!vars) return str;
  return str.replace(/\{(\w+)\}/g, (_, k) => (vars[k] ?? `{${k}}`));
}

function t(lang, key, vars) {
  const dict = dictionaries[lang] || dictionaries.fa;
  const val = dict[key] ?? dictionaries.fa[key] ?? key;
  return format(val, vars);
}

module.exports = { t };
